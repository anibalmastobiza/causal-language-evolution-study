 <!DOCTYPE html>
  <html lang="en">
  <head>
      <meta charset="UTF-8">
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
      <title>Causal Language in Philosophy Survey</title>
      <style>
          body {
              font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
              max-width: 800px;
              margin: 0 auto;
              padding: 20px;
              line-height: 1.6;
              background-color: #f5f5f5;
          }
          .survey-container {
              background-color: white;
              padding: 30px;
              border-radius: 10px;
              box-shadow: 0 2px 10px rgba(0,0,0,0.1);
          }
          .question-block {
              margin-bottom: 25px;
              padding: 20px;
              border-left: 4px solid #007bff;
              background-color: #f8f9fa;
          }
          .abstract-display {
              display: flex;
              gap: 20px;
              margin: 20px 0;
          }
          .abstract-box {
              flex: 1;
              padding: 15px;
              border: 1px solid #ddd;
              border-radius: 5px;
              background-color: white;
              min-height: 100px;
          }
          .abstract-title {
              font-weight: bold;
              margin-bottom: 10px;
              color: #007bff;
          }
          .abstract-text {
              line-height: 1.5;
              font-size: 14px;
              color: #333;
          }
          .refresh-btn {
              background-color: #28a745;
              color: white;
              padding: 8px 16px;
              border: none;
              border-radius: 3px;
              cursor: pointer;
              margin-bottom: 10px;
          }
          .refresh-btn:hover {
              background-color: #218838;
          }
          .likert-scale {
              display: flex;
              justify-content: space-between;
              margin: 10px 0;
          }
          .likert-option {
              display: flex;
              flex-direction: column;
              align-items: center;
              flex: 1;
              margin: 0 5px;
          }
          .likert-option input[type="radio"] {
              margin-bottom: 5px;
          }
          .likert-option label {
              font-size: 0.9em;
              text-align: center;
          }
          .question-title {
              font-weight: bold;
              margin-bottom: 10px;
              color: #333;
          }
          .submit-btn {
              background-color: #007bff;
              color: white;
              padding: 12px 30px;
              border: none;
              border-radius: 5px;
              font-size: 16px;
              cursor: pointer;
              margin-top: 20px;
          }
          .submit-btn:hover {
              background-color: #0056b3;
          }
          .progress-bar {
              width: 100%;
              height: 10px;
              background-color: #e0e0e0;
              border-radius: 5px;
              margin-bottom: 20px;
          }
          .progress-fill {
              height: 100%;
              background-color: #007bff;
              border-radius: 5px;
              transition: width 0.3s ease;
          }
          select, input[type="number"] {
              width: 100%;
              padding: 8px;
              border: 1px solid #ddd;
              border-radius: 4px;
              font-size: 14px;
          }
      </style>
  </head>
  <body>
      <div class="survey-container">
          <h1>Causal Language in Philosophical Writing Survey</h1>
          <p>This survey examines how causal language affects the clarity and comprehension of philosophical abstracts.
          Your participation will contribute to research on improving academic communication in philosophy.</p>

          <button class="refresh-btn" onclick="generateNewAbstracts()">ðŸ”„ Generate New Abstracts</button>
          <div id="debug-info" style="font-size: 12px; color: #666; margin-bottom: 10px;"></div>

          <div class="progress-bar">
              <div class="progress-fill" id="progressFill" style="width: 0%"></div>
          </div>

          <form id="surveyForm">
              <!-- Demographics -->
              <div class="question-block">
                  <div class="question-title">What is your age?</div>
                  <input type="number" name="demo_age" min="18" max="100" required>
              </div>

              <div class="question-block">
                  <div class="question-title">What is your highest level of education?</div>
                  <select name="demo_education" required>
                      <option value="">Please select...</option>
                      <option value="High school or equivalent">High school or equivalent</option>
                      <option value="Some college">Some college</option>
                      <option value="Bachelor's degree">Bachelor's degree</option>
                      <option value="Master's degree">Master's degree</option>
                      <option value="Doctoral degree">Doctoral degree</option>
                      <option value="Other">Other</option>
                  </select>
              </div>

              <div class="question-block">
                  <div class="question-title">How familiar are you with philosophical academic writing?</div>
                  <div class="likert-scale">
                      <div class="likert-option">
                          <input type="radio" id="demo_philosophy_familiarity_1" name="demo_philosophy_familiarity" value="1" required>
                          <label for="demo_philosophy_familiarity_1">Not at all familiar</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="demo_philosophy_familiarity_2" name="demo_philosophy_familiarity" value="2" required>
                          <label for="demo_philosophy_familiarity_2">Slightly familiar</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="demo_philosophy_familiarity_3" name="demo_philosophy_familiarity" value="3" required>
                          <label for="demo_philosophy_familiarity_3">Moderately familiar</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="demo_philosophy_familiarity_4" name="demo_philosophy_familiarity" value="4" required>
                          <label for="demo_philosophy_familiarity_4">Very familiar</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="demo_philosophy_familiarity_5" name="demo_philosophy_familiarity" value="5" required>
                          <label for="demo_philosophy_familiarity_5">Extremely familiar</label>
                      </div>
                  </div>
              </div>

              <!-- Abstract Pair 1 -->
              <div class="question-block">
                  <div class="abstract-display">
                      <div class="abstract-box">
                          <div class="abstract-title">Abstract A</div>
                          <div class="abstract-text" id="abstract1A">Loading abstract...</div>
                      </div>
                      <div class="abstract-box">
                          <div class="abstract-title">Abstract B</div>
                          <div class="abstract-text" id="abstract1B">Loading abstract...</div>
                      </div>
                  </div>
              </div>

              <div class="question-block">
                  <div class="question-title">Which abstract is clearer and easier to understand?</div>
                  <select name="abstract_pair_1_clarity" required>
                      <option value="">Please select...</option>
                      <option value="Abstract A">Abstract A</option>
                      <option value="Abstract B">Abstract B</option>
                      <option value="Both are equally clear">Both are equally clear</option>
                      <option value="Neither is clear">Neither is clear</option>
                  </select>
              </div>

              <div class="question-block">
                  <div class="question-title">Rate the clarity of Abstract A:</div>
                  <div class="likert-scale">
                      <div class="likert-option">
                          <input type="radio" id="clarity_a_1" name="abstract_pair_1_clarity_rating_a" value="1" required>
                          <label for="clarity_a_1">Very unclear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_a_2" name="abstract_pair_1_clarity_rating_a" value="2" required>
                          <label for="clarity_a_2">Unclear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_a_3" name="abstract_pair_1_clarity_rating_a" value="3" required>
                          <label for="clarity_a_3">Neutral</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_a_4" name="abstract_pair_1_clarity_rating_a" value="4" required>
                          <label for="clarity_a_4">Clear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_a_5" name="abstract_pair_1_clarity_rating_a" value="5" required>
                          <label for="clarity_a_5">Very clear</label>
                      </div>
                  </div>
              </div>

              <div class="question-block">
                  <div class="question-title">Rate the clarity of Abstract B:</div>
                  <div class="likert-scale">
                      <div class="likert-option">
                          <input type="radio" id="clarity_b_1" name="abstract_pair_1_clarity_rating_b" value="1" required>
                          <label for="clarity_b_1">Very unclear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_b_2" name="abstract_pair_1_clarity_rating_b" value="2" required>
                          <label for="clarity_b_2">Unclear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_b_3" name="abstract_pair_1_clarity_rating_b" value="3" required>
                          <label for="clarity_b_3">Neutral</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_b_4" name="abstract_pair_1_clarity_rating_b" value="4" required>
                          <label for="clarity_b_4">Clear</label>
                      </div>
                      <div class="likert-option">
                          <input type="radio" id="clarity_b_5" name="abstract_pair_1_clarity_rating_b" value="5" required>
                          <label for="clarity_b_5">Very clear</label>
                      </div>
                  </div>
              </div>

              <button type="submit" class="submit-btn">Submit Survey</button>
          </form>
      </div>

      <script>
          // Abstract templates with corrected content
          const abstractTemplates = [
              {
                  topic: "Consciousness and Free Will",
                  baseText: "This investigation examines the relationship between consciousness and free will in moral decision-making. The research explores how cognitive processes contribute to autonomous choice. Analysis demonstrates connections between neural activity and ethical reasoning through various 
  pathways.",
                  highDensityTerms: ["sustains that consciousness", "underlies moral agency", "enables autonomous choice", "mediating pathways"],
                  lowDensityAlternatives: ["shows that consciousness", "relates to moral agency", "allows autonomous choice", "pathways"]
              },
              {
                  topic: "Artificial Intelligence Ethics",
                  baseText: "This study analyzes ethical frameworks for artificial intelligence development. The research investigates how moral principles apply to algorithmic decision-making. Results show relationships between computational processes and ethical considerations through systematic analysis.",
                  highDensityTerms: ["underlies ethical reasoning", "facilitates moral judgment", "constrains algorithmic bias", "dialectical relationship"],
                  lowDensityAlternatives: ["relates to ethical reasoning", "supports moral judgment", "reduces algorithmic bias", "relationship"]
              },
              {
                  topic: "Philosophy of Mind",
                  baseText: "This study investigates the relationship between mental states and physical processes in cognitive science. The research explores how neural mechanisms relate to conscious experience. Analysis examines connections between brain activity and subjective phenomena.",
                  highDensityTerms: ["underlies conscious experience", "facilitates mental representation", "constrains cognitive processing", "reciprocal interactions"],
                  lowDensityAlternatives: ["relates to conscious experience", "supports mental representation", "affects cognitive processing", "interactions"]
              },
              {
                  topic: "Environmental Ethics",
                  baseText: "This research examines moral obligations toward future generations in environmental policy. The study investigates how sustainability principles apply to resource management. Findings reveal relationships between ethical frameworks and conservation practices.",
                  highDensityTerms: ["presupposes intergenerational duty", "enables sustainable practice", "grounds environmental responsibility", "dialectical tension"],
                  lowDensityAlternatives: ["involves intergenerational duty", "supports sustainable practice", "basis for environmental responsibility", "tension"]
              },
              {
                  topic: "Knowledge and Belief",
                  baseText: "This article explores the epistemological distinction between knowledge and belief in scientific contexts. The study examines how evidential reasoning contributes to knowledge formation. Findings reveal connections between justification processes and truth conditions.",
                  highDensityTerms: ["presupposes evidential grounding", "enables knowledge acquisition", "sustains belief formation", "reciprocal feedback"],
                  lowDensityAlternatives: ["involves evidential grounding", "supports knowledge acquisition", "shows belief formation", "feedback"]
              }
          ];

          function generateAbstractPair() {
              try {
                  const template = abstractTemplates[Math.floor(Math.random() * abstractTemplates.length)];
                  console.log('Selected template:', template.topic);

                  // Generate high density version
                  let highDensityText = template.baseText;
                  const sentences = highDensityText.split('. ');

                  template.highDensityTerms.forEach((term, index) => {
                      if (sentences[index]) {
                          const words = sentences[index].split(' ');
                          const insertPos = Math.floor(words.length / 2);
                          words.splice(insertPos, 0, term);
                          sentences[index] = words.join(' ');
                      }
                  });

                  highDensityText = sentences.join('. ');

                  // Generate low density version
                  let lowDensityText = template.baseText;
                  const lowSentences = lowDensityText.split('. ');

                  template.lowDensityAlternatives.forEach((term, index) => {
                      if (lowSentences[index]) {
                          const words = lowSentences[index].split(' ');
                          const insertPos = Math.floor(words.length / 2);
                          words.splice(insertPos, 0, term);
                          lowSentences[index] = words.join(' ');
                      }
                  });

                  lowDensityText = lowSentences.join('. ');

                  return {
                      high: {
                          text: highDensityText,
                          topic: template.topic,
                          type: 'high_density'
                      },
                      low: {
                          text: lowDensityText,
                          topic: template.topic,
                          type: 'low_density'
                      }
                  };
              } catch (error) {
                  console.error('Error generating abstract pair:', error);
                  return {
                      high: {
                          text: "Error generating high density abstract",
                          topic: "Error",
                          type: 'high_density'
                      },
                      low: {
                          text: "Error generating low density abstract",
                          topic: "Error",
                          type: 'low_density'
                      }
                  };
              }
          }

          function generateNewAbstracts() {
              try {
                  console.log('Generating new abstracts...');
                  const pair = generateAbstractPair();

                  // Randomly assign which is A and which is B
                  const isHighA = Math.random() > 0.5;
                  const abstractA = isHighA ? pair.high : pair.low;
                  const abstractB = isHighA ? pair.low : pair.high;

                  // Find elements
                  const elementA = document.getElementById('abstract1A');
                  const elementB = document.getElementById('abstract1B');
                  const debugInfo = document.getElementById('debug-info');

                  if (elementA && elementB) {
                      // Update the abstracts
                      elementA.textContent = abstractA.text;
                      elementB.textContent = abstractB.text;

                      // Update debug info
                      debugInfo.textContent = `Topic: ${abstractA.topic} | A: ${abstractA.type} | B: ${abstractB.type}`;

                      console.log('Abstracts updated successfully');
                      console.log('Abstract A:', abstractA.type, '-', abstractA.text.substring(0, 50) + '...');
                      console.log('Abstract B:', abstractB.type, '-', abstractB.text.substring(0, 50) + '...');
                  } else {
                      console.error('Could not find abstract elements');
                      console.log('Element A found:', !!elementA);
                      console.log('Element B found:', !!elementB);
                  }
              } catch (error) {
                  console.error('Error in generateNewAbstracts:', error);
              }
          }

          // Initialize when page loads
          document.addEventListener('DOMContentLoaded', function() {
              console.log('Page loaded, generating initial abstracts...');
              generateNewAbstracts();

              // Form submission
              document.getElementById('surveyForm').addEventListener('submit', function(e) {
                  e.preventDefault();
                  alert('Survey completed! Thank you for your participation.');
                  console.log('Survey data would be submitted here');
              });
          });

          // Also generate on page refresh
          window.addEventListener('load', function() {
              console.log('Window loaded, generating abstracts...');
              setTimeout(generateNewAbstracts, 100);
          });
      </script>
  </body>
  </html>








